<div
  style="background-image: url('{{ section.settings.prd_background_image | image_url: width: 1920 }}'); background-repeat: no-repeat; background-size: cover; background-position: center; padding-bottom: 50px; overflow-x: hidden;"
>
  <div class="landingProductSection container">
    <div class="row">
      <div>
        <h2 class="landingPrdTitle">
          {{ section.settings.title_one }}
          <span class="landingPrdTitlefont"> {{ section.settings.title_two }}</span>
        </h2>
        <h3 class="landingPrdSub">{{ section.settings.prd_sub }}</h3>
      </div>
      <div class="row mt-5">
        {% for product in section.settings.landing_product %}
          <div class="col-lg-3 col-sm-6 col-6">
            <div class="prdGrid">
              <div class="prdImageBox">
                <a href="{{ product.url }}">
                  <img
                    style="width: 100%; height: 100%; object-fit: cover;"
                    src="{{ product.featured_image | product_img_url: 'medium' }}"
                    alt=""
                    class="img-fluid"
                    loading="eager"
                    width="auto"
                    height="auto"
                  >
                </a>

                <div class="hoverShoButton">
                  <div class="prdHoverButtons">
                    <div class="prdButton">
                      <p>
                        Add To <br>
                        Cart
                      </p>
                      <div class="iconBox">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke-width="1.5"
                          stroke="currentColor"
                          class="prdIcons"
                        >
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                        </svg>
                      </div>
                    </div>
                    <div class="prdDivider"></div>

                    <div class="prdButton">
                      <p>
                        Quick <br>
                        Checkout
                      </p>
                      <div class="iconBox">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke-width="1.5"
                          stroke="currentColor"
                          class="prdIcons"
                        >
                          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                        </svg>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="prdContent">
                <a href="{{ product.url }}">
                  <h4 class="landingPrdName">
                    {{ product.title }}
                  </h4>
                </a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <div class="callToActionSection">
    <div class="callBox" onclick="showPopup()">
      <h2>
        {{ section.settings.cta_title_one }}
        <span class="callFont"> {{ section.settings.cta_title_two }} </span>
        <span class="discuountFont"> {{ section.settings.cta_title_three }}</span>
      </h2>
    </div>
  </div>

  <div class="orderExpire mt-5">
    <h2>{{ section.settings.order_expires_title }}</h2>
    <div>
      <div class="countdown mt-4">
        <div class="countdown-number">
          <span class="days countdown-time" id="days"></span>
          <span class="countdown-text">{{ section.settings.days }}</span>
        </div>
        <div class="countdown-number">
          <span class="hours countdown-time" id="hour"></span>
          <span class="countdown-text">{{ section.settings.hours }}</span>
        </div>
        <div class="countdown-number">
          <span class="minutes countdown-time" id="minutes"></span>
          <span class="countdown-text">{{ section.settings.minutes }}</span>
        </div>
        <div class="countdown-number">
          <span class="seconds countdown-time" id="seconds"></span>
          <span class="countdown-text">{{ section.settings.seconds }}</span>
        </div>
      </div>
    </div>
    <p id="demo"></p>
  </div>
</div>

<div
  id="showPopup"
  class="landingPopup"
  style="background-image: url('https://cdn.shopify.com/s/files/1/0696/0110/0049/files/Background_1_1.png?v=1700151098'); background-repeat: no-repeat; background-size: cover; background-position: center; padding-bottom: 50px; overflow-x: hidden;"
>
  <div>
    <h2 class="popupTitle">Claim Your 10% Off!</h2>
    <p class="popupSub">*You will only see this page Once!</p>
  </div>

  <div>
    <form action="">
      <div class="formTwo">
        <input class="popupForm" type="text" placeholder="First Name">
        <input class="popupForm" type="text" placeholder="Last Name">
      </div>
      <div>
        <input class="popupForm" type="email" placeholder="Email">
      </div>

      <div class="popupButtons">
        <p onclick="hidePopup()" class="popupNo">No Thank You</p>
        <p class="popupYes">Yes, Sign me up to Aura Delives Newsletter!</p>
      </div>
    </form>
  </div>
</div>

<script>
  function showPopup() {
    document.getElementById('showPopup').style.display = 'block';
  }

  function hidePopup() {
    document.getElementById('showPopup').style.display = 'none';
  }

  // Set the date we're counting down to
  var countDownDate = new Date('{{ section.settings.date_picker }}').getTime();

  // Update the count down every 1 second
  var x = setInterval(function () {
    // Get today's date and time
    var now = new Date().getTime();

    // Find the distance between now and the count down date
    var distance = countDownDate - now;

    // Time calculations for days, hours, minutes and seconds
    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

    // Output the result in an element with id="demo"
    document.getElementById('days').innerHTML = days;
    document.getElementById('hour').innerHTML = hours;
    document.getElementById('minutes').innerHTML = minutes;
    document.getElementById('seconds').innerHTML = seconds;
    // document.getElementById('demo').innerHTML = days + 'd ' + hours + 'h ' + minutes + 'm ' + seconds + 's ';

    // If the count down is over, write some text
    if (distance < 0) {
      clearInterval(x);
      document.getElementById('demo').innerHTML = 'EXPIRED';
    }
  }, 1000);
</script>

{% schema %}
{
  "name": "Landing Product Section",
  "settings": [
    {
      "type": "text",
      "id": "title_one",
      "label": "Title One",
      "default": "Lorem"
    },
    {
      "type": "text",
      "id": "title_two",
      "label": "Title Two",
      "default": "Title"
    },
    {
      "type": "text",
      "id": "prd_sub",
      "label": "Product Subtitle",
      "default": "Subtitle"
    },
    {
      "type": "text",
      "id": "cta_title_one",
      "label": "CTA Title One",
      "default": "Click here to"
    },
    {
      "type": "text",
      "id": "cta_title_two",
      "label": "CTA Title Two",
      "default": "receive your"
    },
    {
      "type": "text",
      "id": "cta_title_three",
      "label": "CTA Title Three",
      "default": "10% off"
    },
    {
      "type": "text",
      "id": "order_expires_title",
      "label": "Order Expires Title",
      "default": "Order expires in"
    },
    {
      "type": "text",
      "id": "days",
      "label": "Days",
      "default": "Days"
    },
    {
      "type": "text",
      "id": "hours",
      "label": "Hours",
      "default": "Hours"
    },
    {
      "type": "text",
      "id": "minutes",
      "label": "Minutes",
      "default": "Minutes"
    },
    {
      "type": "text",
      "id": "seconds",
      "label": "Seconds",
      "default": "Seconds"
    },
    {
      "type": "text",
      "id": "date_picker",
      "label": "Choose date",
      "default": "Jan 5, 2024 15:37:25",
      "info": "e.g. Jan 5, 2024 15:37:25"
    },
    {
      "type": "product_list",
      "id": "landing_product",
      "label": "Landing Product"
    },
    {
      "type": "image_picker",
      "id": "prd_background_image",
      "label": "Background Image"
    }
  ],

  "presets": [
    {
      "name": "Landing Product Section"
    }
  ]
}
{% endschema %}
